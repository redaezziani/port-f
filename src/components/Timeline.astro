---
// Import the needed Heroicons
import { getLangFromUrl } from "../i18n/utils";

interface Event {
  date: string;
  title: string;
  description: string;
  iconType: 'academic' | 'document' | 'computer' | string; // Added string to accept any string value
}

interface Props {
  events: Event[];
}

const { events } = Astro.props;
const lang = getLangFromUrl(Astro.url);
const isRTL = lang === 'ar';

---

<div class={`timeline-container mt-8 mb-12 relative ${isRTL ? 'timeline-rtl font-arabic' : ''}`}>
  <div class={`absolute ${isRTL ? 'right-0' : 'left-0'} h-full border-l border-neutral-300 dark:border-neutral-700`}></div>
  
  {events.map((event) => (
    <div class={`timeline-item relative pb-8 last:pb-0 ${isRTL ? 'pr-8' : 'pl-8'}`}>
      <div class={`absolute ${isRTL ? '-right-4' : '-left-4'} mt-2 transform ${isRTL ? 'translate-x-1/2' : '-translate-x-1/2'}`}>
        <div class="timeline-circle size-8 bg-white p-0.5 rounded-full border-2 border-neutral-400/35 flex items-center justify-center">
          <div class="size-full border border-neutral-400/45 rounded-full flex items-center justify-center">
          <svg
            class="w-4 h-4 text-neutral-500"
            fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M16 3H8v4H2v14h20V7h-6V3zm-2 4h-4V5h4v2zM4 19V9h16v10H4zm10-8h2v2h-2v-2zm-2 4v-2h2v2h-2zm-2 0h2v2h-2v-2zm0 0H8v-2h2v2z" fill="currentColor"/> </svg>
          </div>
        </div>
      </div>
      
      <span class="text-primary font-semibold text-sm">{event.date}</span>
      
      <div class="mt-1">
        <h3 class="text-base font-medium">{event.title}</h3>
        <p class="text-neutral-600 dark:text-neutral-400 text-xs">{event.description}</p>
      </div>
    </div>
  ))}
</div>

<style>
  /* Simplified styles for one-sided timeline */
  .timeline-container {
    padding-left: 1rem;
  }
  
  .timeline-circle {
    left: 0;
  }
  
  /* RTL timeline styles */
  .timeline-rtl {
    padding-left: 0;
    padding-right: 1rem;
  }
  
  .timeline-rtl .timeline-circle {
    left: auto;
    right: 0;
  }
</style>
